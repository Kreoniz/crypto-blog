---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Article from "@/components/Article.astro";
import { formatDate } from "@/utils/formatDate";

import { getCollection } from "astro:content";

const articles = await getCollection("articles");
---

<BaseLayout>
  <h1>Статьи</h1>

  <div class="articles">
    {
      articles.map((article: any) => (
        <Article
          url={`/articles/${article.id}`}
          title={article.data.title}
          description={article.data.description}
          pubDate={formatDate(article.data.pubDate)}
        />
      ))
    }
  </div>
</BaseLayout>

<style>
  .articles {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
</style>
